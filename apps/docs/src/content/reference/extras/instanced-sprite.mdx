---
{
  order: 3,
  category: '@threlte/extras',
  sourcePath: 'packages/extras/src/lib/components/InstancedSprite/InstancedSprite.svelte',
  name: <InstancedSprite>,
  type: 'component',
  componentSignature:
    {
      props:
        [
          {
            name: 'fps',
            type: 'boolean',
            required: false,
            default: '10',
            description: 'The desired frames per second of the animation.'
          },

        ],
      events:
        [
          {
            name: 'load',
            payload: 'void',
            description: 'Fires when all resources have loaded.'
          }
        ],
      bindings:
        [
          { name: ref, type: 'Mesh' }
        ]
    }
}
---

<Tip type="experimental">Experimental warning. The api may change significantly, performance and compatiblity untested on various hardware/OS.</Tip>

<Example path="extras/instanced-sprite" />

## Usage

### Basic example
### Props

### `<Spritesheet/>`
### `createSpritesheet()`
### Reusing spritesheet

## Updating instances

### `<Instance>`
### `context`

## Static sprites

This component focuses on targetting animated sprites, but it's possible to use it for static images as well.
If each frame of the spritesheet is a separate animation, then it effectively acts as an atlas with named sprites.

The `<Tree/>` component in the example above does this.
![Tree sprite atlas](/textures/sprites/trees-pixelart.png)

Set `autoUpdate={false}` on static components and only update it manually with `sprite.update()`. This has to be done when the InstancedSprite is initiated or when spritesheet or atlas change.
If you don't do it, then the spritesheet will run animation updates each frame to run animations that don't really exist.


## Advanced
### How it works
GPGPU, Data texture for user commands

### Triangle vs quad
Triangle vs Plane mode - triangle saves vertices but a larger area of the geometry is unused. Fragment discards, z sorting tradeoffs?
