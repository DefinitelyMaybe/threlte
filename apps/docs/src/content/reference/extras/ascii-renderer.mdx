---
order: 9.10
category: '@threlte/extras'
sourcePath: 'packages/extras/src/lib/components/AsciiRenderer/AsciiRenderer.svelte'
name: <AsciiRenderer>
type: 'component'
componentSignature:
  {
    exports:
      [
        { name: 'start', type: '() => void', description: 'Manually start the render task' },
        { name: 'stop', type: '() => void', description: 'Manually stop the render task' },
        {
          name: 'getEffect',
          type: '() => AsciiEffect',
          description: 'Getter for the underlying AsciiEffect instance'
        }
      ],
    props:
      [
        {
          default: 'useThrelte().camera.current',
          description: 'the camera to use when renderering',
          name: 'camera',
          required: false,
          type: THREE.Camera
        },
        {
          default: 'useThrelte().scene',
          description: 'the scene to use when renderering',
          name: 'scene',
          required: false,
          type: THREE.Scene
        },
        {
          default: 'true',
          description: 'whether to automatically run the render task',
          name: 'autoRender',
          required: false,
          type: 'boolean'
        },
        {
          name: 'characters',
          default: "' .:-+*=%@#'",
          description: 'character set used by the renderer. should be sorted from least to most opaque',
          required: false,
          type: 'string'
        },
        {
          default: "'#000000'",
          description: 'background color used when `options.color` is set to `false`',
          name: 'bgColor',
          required: false,
          type: 'string'
        },
        {
          default: "'#ffffff'",
          description: 'text color used when `options.color` is set to `false`',
          name: 'fgColor',
          required: false,
          type: 'string'
        },
        {
          default: '{}',
          description: "object passed to the effect's constructor. because the effect doesn't support adjusting individual option props, whenever an option prop changes, the effect must be recreated",
          name: 'options',
          required: false,
          type: 'Three.AsciiEffectOptions'
        },
        {
          name: 'onstart',
          required: false,
          type: '() => void',
          description: 'function to call anytime the renderer has been started'
        },
        {
          name: 'onstop',
          required: false,
          type: '() => void',
          description: 'function to call anytime the renderer has been stopped'
        }
      ]
  }
---

A wrapper around Three's AsciiRenderer addon. It replaces the main render function with a function that renders the scene to an HTML table and overlays it on top of the canvas. Areas with a higher "brightness" are mapped to characters that appear "fuller".

<Example path="extras/ascii-renderer/basic" />

## Usage

Typically you'd use `<AsciiRenderer>` alongside your main `Scene` component. `<AsciiRenderer>` creates an absolutely postioned table element that is appended to the dom element of the `<Canvas>`. You may need to set the wrapping element's position to `relative`

```svelte
<div>
  <Canvas>
    <AsciiRenderer />
    <Scene />
  </Canvas>
</div>

<style>
  div {
    position: relative;
  }
</style>
```

## Characters

The `characters` prop should be sorted by ascending "opaqueness".

```svelte
<AsciiRenderer characters=" #" />
```

The example above uses a character set with two characters - ` ` and `#`.

## Colors

By default the renderer sets `options.color` to `false` and will only use the colors given by the `fgColor` and `bgColor` props. `fgColor` and `bgColor` can be any acceptable CSS color string. If your color contains an alpha component, make sure to set `options.alpha` to `true`.

If `options.color` is set to `true`, `fgColor` and `bgColor` will be ignored and the colors of the scene will be used for each individual colors.

```svelte
<AsciiRenderer options={{ color: true }} />
```

<Tip type="info">
  Setting `options.color` to `true` really slows down performance but it can be used if you have a
  static scene or only need to render the scene on demand.
</Tip>

## Other Options Props

Because the renderer doesn't support dynamically updating options, any time an option property changes, a new renderer must be created. For this reason, `options` is passed as an object to `<AsciiRenderer>`

- `options.block` makes the characters into color blocks. It is only applied if `options.color` is `true`.
- `options.invert` inverts the `fgColor` and `bgColor` colors.
- `options.resolution` controls how detailed the render is.
- `options.scale` controls the scale of the characters. Note that zooming the camera does not control the size of the characters.

## Disabling the Render Task

With `options.color` set to false, it isn't much of a problem to have a render task that runs indefinitely. However, setting `options.color` to true and only needing to render one frame or on demand can be slow. For this reason `<AsciiRenderer>` accepts an `autoRender` prop. If `autoRender` is `true`, the render task will start and run until `autoRender` is set to `false`.

<Example path="extras/ascii-renderer/auto-render" />

In the example above, `autoRender` is initially set to `true` and rendering occurs as it normally would. The render task is stopped when `autoRender` is unchecked. This means that the renderer doesn't need to run expensive frames if you only want one frame to be captured.

Lastly, `AsciiRenderer` passes its `AsciiEffect` instance to its `children` snippet. This is useful if you want to opt out of the renderering task but still use the effect it creates.

<Example path="extras/ascii-renderer/only-effect" />

The example above sets the `options.color` property to `true` but only when the ascii effect is updated. This avoids running the task unnecessarily especially since using `options.color` is a much slower process.
