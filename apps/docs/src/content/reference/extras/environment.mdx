---
order: 7.15
category: '@threlte/extras'
sourcePath: 'packages/extras/src/lib/components/environment/Environment.svelte'
name: <Environment>
type: 'component'
componentSignature:
  {
    props:
      [
        { default: "'/'", name: 'path', required: false, type: 'string' },
        {
          description: 'the environment file to load',
          name: 'file',
          required: true,
          type: 'string'
        },
        {
          default: 'false',
          description: "whether to set `scene`'s background to the loaded environment file",
          name: 'isBackground',
          required: false,
          type: 'boolean'
        },
        {
          default: 'useThrelte().scene',
          description: 'the scene that will have its environment and/or background set',
          name: 'scene',
          required: false,
          type: 'THREE.Scene'
        }
      ]
  }
---

Asynchronously loads a single file environment map file and sets the provived scene's `environment` and or `background` to the environment map when loaded.

`<Example path="extras/environment/basic" />`

## Loading Different File Types

`<Environment>` supports loading `.exr`, `.hdr`, and any file type that can be loaded by ThreeJS's [TextureLoader](https://threejs.org/docs/#api/en/loaders/TextureLoader) such as `.jpg` files. This means you can swap the `file` prop to use any of these kinds of files and `<Environment>` will handle the job of disposing of the previous texture and assigning the new one to the scene's `environment` and/or `background` properties. Loaders within `<Environment>` are created on demand and cached for future use until `<Environment>` unmounts.

<Tip type="info">
	`<Environment>` only holds onto one texture at any given time. Any time it has to load a new texture file, it disposes of the old one. It also disposes of the texture when it unmounts.
	</Tip>

## Restoring Environment and Background on Scene Prop Updates

All of `<Environment>`'s props are reactive, even `scene`. If the `scene` prop is updated, `<Environment>` will restore the `environment` and `background` properties of the last scene before updating the new one.

The example below creates a custom render task that draws two scenes to the canvas - one on the left and one on the right. Pressing the button switches the environment map to be applied to either the left or the right side. You can observe that when the side changes, the original `background` and `environment` for that current side are restored.

<Example path="extras/environment/swapping-scenes" />

## Suspended Loading

Textures are loaded asynchronously and suspended so they may be used in a suspense context. This means if you're fetching the file over the network, you can show something in the "loading" snippet of a `<Suspense>` component.
